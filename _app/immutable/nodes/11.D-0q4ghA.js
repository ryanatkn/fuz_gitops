import"../chunks/DsnmJJEf.js";import{p as S,f as d,b as c,c as U,s as g,d as s,r as t,t as k,e as b,ac as he,G as e,H as w,a as ae,D as be,Q as te,O as we,$ as xe}from"../chunks/DfujelpD.js";import{h as je}from"../chunks/DFYNgxsx.js";import{P as ye,a as qe}from"../chunks/B2m5qOhB.js";import{j as Q,k as re,r as Pe,g as m,q as De}from"../chunks/QAF8yEgR.js";import{i as x}from"../chunks/CnJdhEBG.js";import{p as He}from"../chunks/C773_sBn.js";import{p as Te}from"../chunks/CWFlD3S4.js";import{f as se}from"../chunks/CQrB0PKf.js";import{a as ze}from"../chunks/lV1d9a3a.js";import{r as Ce}from"../chunks/cyvyk0qb.js";var Fe=d('<th class="svelte-1mb1oew"> </th>'),Ge=d("<a> </a>"),Ie=d("<a><img/> </a>"),Me=d("<a><!></a>"),Oe=d("<a> </a>  <!>",1),Qe=d("<a> </a>"),Re=d('<div class="row"><a><code> </code></a></div>'),Ae=d("<a> </a>"),Be=d('<td class="svelte-1mb1oew"><div> </div></td>'),Ee=d('<a class="chip"> </a>'),Je=d('<div class="row"><!></div>'),Ke=d('<tr class="svelte-1mb1oew"><td class="svelte-1mb1oew"><div class="row"><!></div></td><td class="svelte-1mb1oew"><div class="row"><!></div></td><td class="svelte-1mb1oew"><div class="row"><!></div></td><td class="svelte-1mb1oew"><!></td><td class="svelte-1mb1oew"><!></td><!><td class="svelte-1mb1oew"><!></td></tr>'),Le=d('<table><thead><tr class="svelte-1mb1oew"><th class="svelte-1mb1oew">tree</th><th class="svelte-1mb1oew">homepage</th><th class="svelte-1mb1oew">repo</th><th class="svelte-1mb1oew">npm</th><th class="svelte-1mb1oew">version</th><!><th class="svelte-1mb1oew">pull requests</th></tr></thead><tbody></tbody></table>');function Ne(F,p){S(p,!0);const h=He(p,"deps",19,()=>["@ryanatkn/fuz","@ryanatkn/gro"]),y=(_,o)=>{for(const v in _.pkg.package_json.dependencies)if(v===o)return _.pkg.package_json.dependencies[v];for(const v in _.pkg.package_json.devDependencies)if(v===o)return _.pkg.package_json.devDependencies[v]},R=w(()=>new Map(h().map(_=>{const o=p.repos.find(v=>v.pkg.package_json.name===_);return o?.pkg.package_json?[_,o.pkg.package_json.version]:[_,null]}))),H=_=>_==null?"":_.replace(/^(\^|>=)\s*/,""),M=(_,o)=>{const v=_?.find(I=>I.pkg.repo_url===o.pkg.repo_url);if(!v?.pkg.package_json)return null;const{pull_requests:q}=v;return q};var G=Le(),T=s(G),O=s(T),V=g(s(O),5);Q(V,16,h,_=>_,(_,o)=>{var v=Fe(),q=s(v,!0);t(v),k(()=>b(q,o)),c(_,v)}),he(),t(O),t(T);var W=g(T);Q(W,21,()=>p.repos,_=>_.pkg.name,(_,o)=>{const v=w(()=>{const{package_json:r,homepage_url:a}=e(o).pkg;return{package_json:r,homepage_url:a}});var q=Ke(),I=s(q),X=s(I),oe=s(X);{var ve=r=>{var a=Ge(),n=s(a,!0);t(a),k(l=>{m(a,"href",l),b(n,e(v).package_json.glyph??"ðŸŒ³")},[()=>Pe(`/tree/${e(o).pkg.repo_name}`)]),c(r,a)};x(oe,r=>{e(v).package_json&&r(ve)})}t(X),t(I);var A=g(I),Y=s(A),ne=s(Y);{var _e=r=>{var a=Ie();let n;var l=s(a);De(l,"",{},{width:"16px",height:"16px","margin-right":"var(--space_xs)"});var u=g(l);t(a),k(i=>{m(a,"href",e(v).homepage_url),n=re(a,1,"row",null,n,{selected:e(v).homepage_url===Te.url.href}),m(l,"src",e(o).pkg.logo_url),m(l,"alt",e(o).pkg.logo_alt),b(u,` ${i??""}`)},[()=>se(e(v).homepage_url)]),c(r,a)};x(ne,r=>{e(v).homepage_url&&r(_e)})}t(Y),t(A);var B=g(A),Z=s(B),le=s(Z);{var ce=r=>{const a=w(()=>e(o).check_runs),n=w(()=>e(a)?.status==="completed"),l=w(()=>e(a)?.conclusion==="success");var u=Oe(),i=ae(u),j=s(i,!0);t(i);var z=g(i,2);{var P=D=>{var f=Me(),K=s(f);{var L=C=>{var N=te("ðŸŸ¡");c(C,N)},ke=C=>{var N=te("âš ï¸");c(C,N)};x(K,C=>{e(n)?C(ke,!1):C(L)})}t(f),k(()=>{m(f,"href",`${e(o).pkg.repo_url??""}/commits/main`),m(f,"title",e(n)?`CI failed: ${e(a).conclusion}`:`status: ${e(a).status}`)}),c(D,f)};x(z,D=>{e(a)&&(!e(n)||!e(l))&&D(P)})}k(()=>{m(i,"href",e(o).pkg.repo_url),b(j,e(o).pkg.repo_name)}),c(r,u)},ie=r=>{var a=Qe(),n=s(a,!0);t(a),k(l=>{m(a,"href",e(o).pkg.repo_url),b(n,l)},[()=>se(e(o).pkg.repo_url)]),c(r,a)};x(le,r=>{e(v).package_json?r(ce):r(ie,!1)})}t(Z),t(B);var E=g(B),de=s(E);{var pe=r=>{var a=Re(),n=s(a),l=s(n),u=s(l,!0);t(l),t(n),t(a),k(()=>{m(n,"href",e(o).pkg.npm_url),b(u,e(o).pkg.name)}),c(r,a)};x(de,r=>{e(o).pkg.npm_url&&r(pe)})}t(E);var J=g(E),me=s(J);{var ge=r=>{var a=Ae(),n=s(a,!0);t(a),k(l=>{m(a,"href",e(o).pkg.changelog_url),b(n,l)},[()=>H(e(v).package_json.version)]),c(r,a)};x(me,r=>{e(v).package_json.version!=="0.0.1"&&r(ge)})}t(J);var $=g(J);Q($,16,h,r=>r,(r,a)=>{const n=w(()=>y(e(o),a)),l=w(()=>H(e(n))),u=w(()=>e(R).get(a));var i=Be(),j=s(i);let z;var P=s(j,!0);t(j),t(i),k(()=>{z=re(j,1,"svelte-1mb1oew",null,z,{latest:!!e(u)&&e(l)===e(u)}),b(P,e(l))}),c(r,i)});var ee=g($),ue=s(ee);{var fe=r=>{const a=w(()=>M(p.repos,e(o)));var n=Je(),l=s(n);{var u=i=>{var j=be(),z=ae(j);Q(z,16,()=>e(a),P=>P,(P,D)=>{var f=Ee(),K=s(f);t(f),k(L=>{m(f,"href",L),m(f,"title",D.title),b(K,`#${D.number??""}`)},[()=>ze(e(o).pkg.repo_url,D)]),c(P,f)}),c(i,j)};x(l,i=>{e(a)&&i(u)})}t(n),c(r,n)};x(ue,r=>{e(o).pkg.repo_url&&r(fe)})}t(ee),t(q),c(_,q)}),t(W),t(G),c(F,G),U()}var Se=d('<main class="box svelte-1fi511y"><div class="p_lg"><!></div> <section class="svelte-1fi511y"><div class="panel p_md"><!></div></section> <section class="box mb_xl7 svelte-1fi511y"><!></section></main>');function Ue(F,p){S(p,!0);var h=Se();je("1fi511y",V=>{we(()=>{xe.title=`table ${p.repo.pkg.package_json.glyph??""} ${p.repo.pkg.package_json.name??""}`})});var y=s(h),R=s(y);ye(R,{get pkg(){return p.repo.pkg}}),t(y);var H=g(y,2),M=s(H),G=s(M);Ne(G,{get repos(){return p.repos}}),t(M),t(H);var T=g(H,2),O=s(T);qe(O,{}),t(T),t(h),c(F,h),U()}function oa(F,p){S(p,!0);const{repo:h,repos:y}=Ce.get();Ue(F,{get repo(){return h},get repos(){return y}}),U()}export{oa as component};
