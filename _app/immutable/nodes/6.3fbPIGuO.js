import{t as d,a as c,s as y,c as xa,b as ea,h as ka}from"../chunks/DpMMEz8G.js";import{p as S,a as U,s as h,c as s,n as ba,b as t,t as x,z as a,M as w,f as ta,$ as ja}from"../chunks/ChQiw6Hm.js";import{P as ya,a as wa}from"../chunks/CXIAyxDk.js";import{p as qa,i as q}from"../chunks/DY58tE33.js";import{a as B,b as ra,s as f,c as Pa,r as za}from"../chunks/Hcn0xZxl.js";import{p as Da}from"../chunks/CT6tu-kk.js";import{b as Ma}from"../chunks/CLhxvUiH.js";import{f as sa}from"../chunks/BB3TjTKJ.js";import{a as Ta}from"../chunks/BZ3vyIUQ.js";var Ca=d('<th class="svelte-atmx7v"> </th>'),Fa=d("<a> </a>"),Ha=d("<a><img> </a>"),Ia=d("<a><!></a>"),Ra=d("<a> </a>  <!>",1),Aa=d("<a> </a>"),Ba=d('<div class="row"><a><code> </code></a></div>'),Ea=d("<a> </a>"),Ga=d('<td class="svelte-atmx7v"><div> </div></td>'),Ja=d('<a class="chip"> </a>'),Ka=d('<div class="row"><!></div>'),La=d('<tr class="svelte-atmx7v"><td class="svelte-atmx7v"><div class="row"><!></div></td><td class="svelte-atmx7v"><div class="row"><!></div></td><td class="svelte-atmx7v"><div class="row"><!></div></td><td class="svelte-atmx7v"><!></td><td class="svelte-atmx7v"><!></td><!><td class="svelte-atmx7v"><!></td></tr>'),Na=d('<table><thead><tr class="svelte-atmx7v"><th class="svelte-atmx7v">tree</th><th class="svelte-atmx7v">homepage</th><th class="svelte-atmx7v">repo</th><th class="svelte-atmx7v">npm</th><th class="svelte-atmx7v">version</th><!><th class="svelte-atmx7v">pull requests</th></tr></thead><tbody></tbody></table>');function Oa(F,u){S(u,!0);const j=qa(u,"deps",19,()=>["@ryanatkn/fuz","@ryanatkn/gro"]),P=(n,v)=>{for(const _ in n.package_json.dependencies)if(_===v)return n.package_json.dependencies[_];for(const _ in n.package_json.devDependencies)if(_===v)return n.package_json.devDependencies[_];return null},E=w(()=>new Map(j().map(n=>{const v=u.repos.find(_=>_.package_json.name===n);return v!=null&&v.package_json?[n,v.package_json.version]:[n,null]}))),D=n=>n===null?"":n.replace(/^(\^|>=)\s*/,""),R=(n,v)=>{const _=n==null?void 0:n.find(I=>I.repo_url===v.repo_url);if(!(_!=null&&_.package_json))return null;const{pull_requests:m}=_;return m};var H=Na(),M=s(H),A=s(M),V=h(s(A),5);B(V,16,j,n=>n,(n,v)=>{var _=Ca(),m=s(_,!0);t(_),x(()=>y(m,v)),c(n,_)}),ba(),t(A),t(M);var W=h(M);B(W,21,()=>u.repos,n=>n.name,(n,v)=>{var _=La();const m=w(()=>{const{package_json:r,homepage_url:e}=a(v);return{package_json:r,homepage_url:e}});var I=s(_),X=s(I),va=s(X);{var oa=r=>{var e=Fa(),o=s(e,!0);t(e),x(()=>{f(e,"href",`${Ma??""}/tree/${a(v).repo_name??""}`),y(o,a(m).package_json.glyph??"🌳")}),c(r,e)};q(va,r=>{a(m).package_json&&r(oa)})}t(X),t(I);var G=h(I),Y=s(G),na=s(Y);{var _a=r=>{var e=Ha();let o;var l=s(e);Pa(l,"",{},{width:"16px",height:"16px","margin-right":"var(--space_xs)"});var k=h(l);t(e),x((p,b)=>{f(e,"href",a(m).homepage_url),o=ra(e,1,"row",null,o,p),f(l,"src",a(v).logo_url),f(l,"alt",a(v).logo_alt),y(k,` ${b??""}`)},[()=>({selected:a(m).homepage_url===Da.url.href}),()=>sa(a(m).homepage_url)]),c(r,e)};q(na,r=>{a(m).homepage_url&&r(_a)})}t(Y),t(G);var J=h(G),Z=s(J),la=s(Z);{var ca=r=>{var e=Ra();const o=w(()=>a(v).check_runs),l=w(()=>{var i;return((i=a(o))==null?void 0:i.status)==="completed"}),k=w(()=>{var i;return((i=a(o))==null?void 0:i.conclusion)==="success"});var p=ta(e),b=s(p,!0);t(p);var T=h(p,2);{var z=i=>{var g=Ia(),N=s(g);{var O=C=>{var Q=ea("🟡");c(C,Q)},ga=C=>{var Q=ea("⚠️");c(C,Q)};q(N,C=>{a(l)?C(ga,!1):C(O)})}t(g),x(()=>{f(g,"href",`${a(v).repo_url??""}/commits/main`),f(g,"title",a(l)?`CI failed: ${a(o).conclusion}`:`status: ${a(o).status}`)}),c(i,g)};q(T,i=>{a(o)&&(!a(l)||!a(k))&&i(z)})}x(()=>{f(p,"href",a(v).repo_url),y(b,a(v).repo_name)}),c(r,e)},ia=r=>{var e=Aa(),o=s(e,!0);t(e),x(l=>{f(e,"href",a(v).repo_url),y(o,l)},[()=>sa(a(v).repo_url)]),c(r,e)};q(la,r=>{a(m).package_json?r(ca):r(ia,!1)})}t(Z),t(J);var K=h(J),da=s(K);{var ua=r=>{var e=Ba(),o=s(e),l=s(o),k=s(l,!0);t(l),t(o),t(e),x(()=>{f(o,"href",a(v).npm_url),y(k,a(v).name)}),c(r,e)};q(da,r=>{a(v).npm_url&&r(ua)})}t(K);var L=h(K),ma=s(L);{var pa=r=>{var e=Ea(),o=s(e,!0);t(e),x(l=>{f(e,"href",a(v).changelog_url),y(o,l)},[()=>D(a(m).package_json.version)]),c(r,e)};q(ma,r=>{a(m).package_json.version!=="0.0.1"&&r(pa)})}t(L);var $=h(L);B($,16,j,r=>r,(r,e)=>{var o=Ga();const l=w(()=>P(a(v),e)),k=w(()=>D(a(l))),p=w(()=>a(E).get(e));var b=s(o);let T;var z=s(b,!0);t(b),t(o),x(i=>{T=ra(b,1,"svelte-atmx7v",null,T,i),y(z,a(k))},[()=>({latest:!!a(p)&&a(k)===a(p)})]),c(r,o)});var aa=h($),fa=s(aa);{var ha=r=>{var e=Ka();const o=w(()=>R(u.repos,a(v)));var l=s(e);{var k=p=>{var b=xa(),T=ta(b);B(T,16,()=>a(o),z=>z,(z,i)=>{var g=Ja(),N=s(g);t(g),x(O=>{f(g,"href",O),f(g,"title",i.title),y(N,`#${i.number??""}`)},[()=>Ta(a(v).repo_url,i)]),c(z,g)}),c(p,b)};q(l,p=>{a(o)&&p(k)})}t(e),c(r,e)};q(fa,r=>{a(v).repo_url&&r(ha)})}t(aa),t(_),c(n,_)}),t(W),t(H),c(F,H),U()}var Qa=d('<main class="box svelte-1v3x3ux"><div class="p_lg"><!></div> <section class="svelte-1v3x3ux"><div class="panel p_md"><!></div></section> <section class="box mb_xl7 svelte-1v3x3ux"><!></section></main>');function Sa(F,u){S(u,!0);var j=Qa();ka(V=>{x(()=>ja.title=`table ${u.repo.package_json.glyph??""} ${u.repo.package_json.name??""}`)});var P=s(j),E=s(P);ya(E,{get pkg(){return u.repo}}),t(P);var D=h(P,2),R=s(D),H=s(R);Oa(H,{get repos(){return u.repos}}),t(R),t(D);var M=h(D,2),A=s(M);wa(A,{}),t(M),t(j),c(F,j),U()}function te(F,u){S(u,!0);const{repo:j,repos:P}=za.get();Sa(F,{repo:j,repos:P}),U()}export{te as component};
