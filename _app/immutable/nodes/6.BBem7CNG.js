import{a as l,t as i,s as x,c as be,b as te,h as je}from"../chunks/disclose-version.DpADMs6g.js";import{p as U,a as V,c as r,s as h,b as t,t as c,n as ye,g as e,d as k,f as se,$ as we}from"../chunks/index-client.DhdBEv7V.js";import{P as Pe,a as De}from"../chunks/Page_Header.BNUNBnYZ.js";import{s as Te,p as ze,i as b,a as Ce}from"../chunks/props.BR1t6aRC.js";import{a as G,i as Fe,s as g,t as re,b as S,r as He}from"../chunks/repo.rzq5l2oq.js";import{f as oe,p as Ie}from"../chunks/stores.B5SnQ0ff.js";import{b as Me}from"../chunks/entry.OJsb9tm6.js";import{a as Re}from"../chunks/github_helpers.jf9uB_x9.js";var Ae=i('<th class="svelte-1v5q9eq"> </th>'),Be=i("<a> </a>"),Ee=i('<a class="row"><img> </a>'),Ge=i("<a><!></a>"),Je=i("<a> </a>  <!>",1),Ke=i("<a> </a>"),Le=i('<div class="row"><a><code> </code></a></div>'),Ne=i("<a> </a>"),Oe=i('<td class="svelte-1v5q9eq"><div class="svelte-1v5q9eq"> </div></td>'),Qe=i('<a class="chip"> </a>'),Se=i('<div class="row"><!></div>'),Ue=i('<tr class="svelte-1v5q9eq"><td class="svelte-1v5q9eq"><div class="row"><!></div></td><td class="svelte-1v5q9eq"><div class="row"><!></div></td><td class="svelte-1v5q9eq"><div class="row"><!></div></td><td class="svelte-1v5q9eq"><!></td><td class="svelte-1v5q9eq"><!></td><!><td class="svelte-1v5q9eq"><!></td></tr>'),Ve=i('<table><thead><tr class="svelte-1v5q9eq"><th class="svelte-1v5q9eq">tree</th><th class="svelte-1v5q9eq">homepage</th><th class="svelte-1v5q9eq">repo</th><th class="svelte-1v5q9eq">npm</th><th class="svelte-1v5q9eq">version</th><!><th class="svelte-1v5q9eq">pull requests</th></tr></thead><tbody></tbody></table>');function We(T,d){V(d,!0);const w=Te(),P=()=>Ce(Ie,"$page",w),z=ze(d,"deps",19,()=>["@ryanatkn/fuz","@ryanatkn/gro"]),C=(n,o)=>{for(const _ in n.package_json.dependencies)if(_===o)return n.package_json.dependencies[_];for(const _ in n.package_json.devDependencies)if(_===o)return n.package_json.devDependencies[_];return null},R=k(()=>new Map(z().map(n=>{const o=d.repos.find(_=>_.package_json.name===n);return o!=null&&o.package_json?[n,o.package_json.version]:[n,null]}))),A=n=>n===null?"":n.replace(/^(\^|>=)\s*/,""),B=(n,o)=>{const _=n==null?void 0:n.find(H=>H.repo_url===o.repo_url);if(!(_!=null&&_.package_json))return null;const{pull_requests:u}=_;return u};var F=Ve(),E=r(F),W=r(E),ve=h(r(W),5);G(ve,16,z,n=>n,(n,o)=>{var _=Ae(),u=r(_,!0);t(_),c(()=>x(u,o)),l(n,_)}),ye(),t(W),t(E);var X=h(E);G(X,21,()=>d.repos,Fe,(n,o)=>{var _=Ue();const u=k(()=>{const{package_json:s,homepage_url:a}=e(o);return{package_json:s,homepage_url:a}});var H=r(_),Y=r(H),ne=r(Y);{var _e=s=>{var a=Be(),v=r(a,!0);t(a),c(()=>{g(a,"href",`${Me??""}/tree/${e(o).repo_name??""}`),x(v,e(u).package_json.glyph??"ðŸŒ³")}),l(s,a)};b(ne,s=>{e(u).package_json&&s(_e)})}t(Y),t(H);var J=h(H),Z=r(J),le=r(Z);{var ce=s=>{var a=Ee(),v=r(a),m=h(v);c(()=>x(m,` ${oe(e(u).homepage_url)??""}`)),t(a),c(()=>{g(a,"href",e(u).homepage_url),re(a,"selected",e(u).homepage_url===P().url.href),g(v,"src",e(o).logo_url),g(v,"alt",e(o).logo_alt),S(v,"width","16px"),S(v,"height","16px"),S(v,"margin-right","var(--space_xs)")}),l(s,a)};b(le,s=>{e(u).homepage_url&&s(ce)})}t(Z),t(J);var K=h(J),$=r(K),ie=r($);{var de=s=>{var a=Je();const v=k(()=>e(o).check_runs),m=k(()=>{var p;return((p=e(v))==null?void 0:p.status)==="completed"}),j=k(()=>{var p;return((p=e(v))==null?void 0:p.conclusion)==="success"});var f=se(a),y=r(f,!0);t(f);var I=h(f,2);{var M=p=>{var q=Ge(),O=r(q);{var xe=D=>{var Q=te("ðŸŸ¡");l(D,Q)},ke=D=>{var Q=te("âš ï¸");l(D,Q)};b(O,D=>{e(m)?D(ke,!1):D(xe)})}t(q),c(()=>{g(q,"href",`${e(o).repo_url??""}/commits/main`),g(q,"title",e(m)?`CI failed: ${e(v).conclusion}`:`status: ${e(v).status}`)}),l(p,q)};b(I,p=>{e(v)&&(!e(m)||!e(j))&&p(M)})}c(()=>{g(f,"href",e(o).repo_url),x(y,e(o).repo_name)}),l(s,a)},ue=s=>{var a=Ke(),v=r(a,!0);c(()=>x(v,oe(e(o).repo_url))),t(a),c(()=>g(a,"href",e(o).repo_url)),l(s,a)};b(ie,s=>{e(u).package_json?s(de):s(ue,!1)})}t($),t(K);var L=h(K),pe=r(L);{var me=s=>{var a=Le(),v=r(a),m=r(v),j=r(m,!0);t(m),t(v),t(a),c(()=>{g(v,"href",e(o).npm_url),x(j,e(o).name)}),l(s,a)};b(pe,s=>{e(o).npm_url&&s(me)})}t(L);var N=h(L),ge=r(N);{var he=s=>{var a=Ne(),v=r(a,!0);c(()=>x(v,A(e(u).package_json.version))),t(a),c(()=>g(a,"href",e(o).changelog_url)),l(s,a)};b(ge,s=>{e(u).package_json.version!=="0.0.1"&&s(he)})}t(N);var ee=h(N);G(ee,16,z,s=>s,(s,a)=>{var v=Oe();const m=k(()=>C(e(o),a)),j=k(()=>A(e(m))),f=k(()=>e(R).get(a));var y=r(v),I=r(y,!0);t(y),t(v),c(()=>{re(y,"latest",!!e(f)&&e(j)===e(f)),x(I,e(j))}),l(s,v)});var ae=h(ee),fe=r(ae);{var qe=s=>{var a=Se();const v=k(()=>B(d.repos,e(o)));var m=r(a);{var j=f=>{var y=be(),I=se(y);G(I,16,()=>e(v),M=>M,(M,p)=>{var q=Qe();c(()=>g(q,"href",Re(e(o).repo_url,p)));var O=r(q);t(q),c(()=>{g(q,"title",p.title),x(O,`#${p.number??""}`)}),l(M,q)}),l(f,y)};b(m,f=>{e(v)&&f(j)})}t(a),l(s,a)};b(fe,s=>{e(o).repo_url&&s(qe)})}t(ae),t(_),l(n,_)}),t(X),t(F),l(T,F),U()}var Xe=i('<main class="box svelte-1v3x3ux"><div class="p_lg"><!></div> <section class="svelte-1v3x3ux"><div class="panel p_md"><!></div></section> <section class="box mb_xl7 svelte-1v3x3ux"><!></section></main>');function Ye(T,d){V(d,!0);var w=Xe();je(E=>{c(()=>we.title=`table ${d.repo.package_json.glyph??""} ${d.repo.package_json.name??""}`)});var P=r(w),z=r(P);Pe(z,{get pkg(){return d.repo}}),t(P);var C=h(P,2),R=r(C),A=r(R);We(A,{get repos(){return d.repos}}),t(R),t(C);var B=h(C,2),F=r(B);De(F,{}),t(B),t(w),l(T,w),U()}function va(T,d){V(d,!0);const{repo:w,repos:P}=He.get();Ye(T,{repo:w,repos:P}),U()}export{va as component};
