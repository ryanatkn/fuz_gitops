import{s as be,a as l,t as i,b as k,c as je,i as ye,d as te,h as we}from"../chunks/disclose-version.BNx5aYax.js";import{p as S,a as U,c as r,s as f,r as t,t as c,n as Pe,k as e,W as x,f as se,$ as De}from"../chunks/runtime.D5ZRvUCh.js";import{P as Te,a as ze}from"../chunks/Page_Header.Da-IqFsD.js";import{p as Ce,i as b}from"../chunks/props.CoIE9SoN.js";import{a as E,i as Fe,s as g,t as re,b as Q,r as He}from"../chunks/repo.CnTXe7Q8.js";import{p as Ie}from"../chunks/stores.C0D1JeYW.js";import{b as Me}from"../chunks/entry.D1vn87v9.js";import{f as oe}from"../chunks/Library_Footer.ajFND8k9.js";import{a as Re}from"../chunks/github_helpers.8Ri_APPH.js";var We=i('<th class="svelte-1v5q9eq"> </th>'),Ae=i("<a> </a>"),Be=i('<a class="row"><img> </a>'),Ee=i("<a><!></a>"),Ge=i("<a> </a>  <!>",1),Je=i("<a> </a>"),Ke=i('<div class="row"><a><code> </code></a></div>'),Le=i("<a> </a>"),Ne=i('<td class="svelte-1v5q9eq"><div class="svelte-1v5q9eq"> </div></td>'),Oe=i('<a class="chip"> </a>'),Qe=i('<div class="row"><!></div>'),Se=i('<tr class="svelte-1v5q9eq"><td class="svelte-1v5q9eq"><div class="row"><!></div></td><td class="svelte-1v5q9eq"><div class="row"><!></div></td><td class="svelte-1v5q9eq"><div class="row"><!></div></td><td class="svelte-1v5q9eq"><!></td><td class="svelte-1v5q9eq"><!></td><!><td class="svelte-1v5q9eq"><!></td></tr>'),Ue=i('<table><thead><tr class="svelte-1v5q9eq"><th class="svelte-1v5q9eq">tree</th><th class="svelte-1v5q9eq">homepage</th><th class="svelte-1v5q9eq">repo</th><th class="svelte-1v5q9eq">npm</th><th class="svelte-1v5q9eq">version</th><!><th class="svelte-1v5q9eq">pull requests</th></tr></thead><tbody></tbody></table>');function Ve(T,d){U(d,!0);const w=be(),P=()=>je(Ie,"$page",w),z=Ce(d,"deps",19,()=>["@ryanatkn/fuz","@ryanatkn/gro"]),C=(n,o)=>{for(const _ in n.package_json.dependencies)if(_===o)return n.package_json.dependencies[_];for(const _ in n.package_json.devDependencies)if(_===o)return n.package_json.devDependencies[_];return null},R=x(()=>new Map(z().map(n=>{const o=d.repos.find(_=>_.package_json.name===n);return o!=null&&o.package_json?[n,o.package_json.version]:[n,null]}))),W=n=>n===null?"":n.replace(/^(\^|>=)\s*/,""),A=(n,o)=>{const _=n==null?void 0:n.find(H=>H.repo_url===o.repo_url);if(!(_!=null&&_.package_json))return null;const{pull_requests:u}=_;return u};var F=Ue(),B=r(F),V=r(B),ve=f(r(V),5);E(ve,16,z,n=>n,(n,o)=>{var _=We(),u=r(_,!0);t(_),c(()=>k(u,o)),l(n,_)}),Pe(),t(V),t(B);var X=f(B);E(X,21,()=>d.repos,Fe,(n,o)=>{var _=Se();const u=x(()=>{const{package_json:s,homepage_url:a}=e(o);return{package_json:s,homepage_url:a}});var H=r(_),Y=r(H),ne=r(Y);{var _e=s=>{var a=Ae(),v=r(a,!0);t(a),c(()=>{g(a,"href",`${Me??""}/tree/${e(o).repo_name??""}`),k(v,e(u).package_json.glyph??"🌳")}),l(s,a)};b(ne,s=>{e(u).package_json&&s(_e)})}t(Y),t(H);var G=f(H),Z=r(G),le=r(Z);{var ce=s=>{var a=Be(),v=r(a),m=f(v);c(()=>k(m,` ${oe(e(u).homepage_url)??""}`)),t(a),c(()=>{g(a,"href",e(u).homepage_url),re(a,"selected",e(u).homepage_url===P().url.href),g(v,"src",e(o).logo_url),g(v,"alt",e(o).logo_alt),Q(v,"width","16px"),Q(v,"height","16px"),Q(v,"margin-right","var(--space_xs)")}),l(s,a)};b(le,s=>{e(u).homepage_url&&s(ce)})}t(Z),t(G);var J=f(G),$=r(J),ie=r($);{var de=s=>{var a=Ge();const v=x(()=>e(o).check_runs),m=x(()=>{var p;return((p=e(v))==null?void 0:p.status)==="completed"}),j=x(()=>{var p;return((p=e(v))==null?void 0:p.conclusion)==="success"});var h=se(a),y=r(h,!0);t(h);var I=f(h,2);{var M=p=>{var q=Ee(),N=r(q);{var ke=D=>{var O=te("🟡");l(D,O)},xe=D=>{var O=te("⚠️");l(D,O)};b(N,D=>{e(m)?D(xe,!1):D(ke)})}t(q),c(()=>{g(q,"href",`${e(o).repo_url??""}/commits/main`),g(q,"title",e(m)?`CI failed: ${e(v).conclusion}`:`status: ${e(v).status}`)}),l(p,q)};b(I,p=>{e(v)&&(!e(m)||!e(j))&&p(M)})}c(()=>{g(h,"href",e(o).repo_url),k(y,e(o).repo_name)}),l(s,a)},ue=s=>{var a=Je(),v=r(a,!0);c(()=>k(v,oe(e(o).repo_url))),t(a),c(()=>g(a,"href",e(o).repo_url)),l(s,a)};b(ie,s=>{e(u).package_json?s(de):s(ue,!1)})}t($),t(J);var K=f(J),pe=r(K);{var me=s=>{var a=Ke(),v=r(a),m=r(v),j=r(m,!0);t(m),t(v),t(a),c(()=>{g(v,"href",e(o).npm_url),k(j,e(o).name)}),l(s,a)};b(pe,s=>{e(o).npm_url&&s(me)})}t(K);var L=f(K),ge=r(L);{var fe=s=>{var a=Le(),v=r(a,!0);c(()=>k(v,W(e(u).package_json.version))),t(a),c(()=>g(a,"href",e(o).changelog_url)),l(s,a)};b(ge,s=>{e(u).package_json.version!=="0.0.1"&&s(fe)})}t(L);var ee=f(L);E(ee,16,z,s=>s,(s,a)=>{var v=Ne();const m=x(()=>C(e(o),a)),j=x(()=>W(e(m))),h=x(()=>e(R).get(a));var y=r(v),I=r(y,!0);t(y),t(v),c(()=>{re(y,"latest",!!e(h)&&e(j)===e(h)),k(I,e(j))}),l(s,v)});var ae=f(ee),he=r(ae);{var qe=s=>{var a=Qe();const v=x(()=>A(d.repos,e(o)));var m=r(a);{var j=h=>{var y=ye(),I=se(y);E(I,16,()=>e(v),M=>M,(M,p)=>{var q=Oe();c(()=>g(q,"href",Re(e(o).repo_url,p)));var N=r(q);t(q),c(()=>{g(q,"title",p.title),k(N,`#${p.number??""}`)}),l(M,q)}),l(h,y)};b(m,h=>{e(v)&&h(j)})}t(a),l(s,a)};b(he,s=>{e(o).repo_url&&s(qe)})}t(ae),t(_),l(n,_)}),t(X),t(F),l(T,F),S()}var Xe=i('<main class="box svelte-1v3x3ux"><div class="p_lg"><!></div> <section class="svelte-1v3x3ux"><div class="panel p_md"><!></div></section> <section class="box mb_xl7 svelte-1v3x3ux"><!></section></main>');function Ye(T,d){U(d,!0);var w=Xe();we(B=>{c(()=>De.title=`table ${d.repo.package_json.glyph??""} ${d.repo.package_json.name??""}`)});var P=r(w),z=r(P);Te(z,{get pkg(){return d.repo}}),t(P);var C=f(P,2),R=r(C),W=r(R);Ve(W,{get repos(){return d.repos}}),t(R),t(C);var A=f(C,2),F=r(A);ze(F,{}),t(A),t(w),l(T,w),S()}function na(T,d){U(d,!0);const{repo:w,repos:P}=He.get();Ye(T,{repo:w,repos:P}),S()}export{na as component};
