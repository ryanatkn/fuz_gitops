import{p as K,d as I,S as J,r as N}from"../chunks/C4-Mr5zv.js";import{r as Q}from"../chunks/CfsS2dLn.js";import"../chunks/DsnmJJEf.js";import{p as F,_ as L,a as A,b as s,c as H,f as v,J as i,Z as b,d as a,g as r,s as y,a7 as M,j as Z,t as z,h as E,i as U,$ as V,n as W}from"../chunks/CrNsglSl.js";import{p as X,i as B}from"../chunks/CJM6mtEW.js";import{P as $,a as ee,B as te}from"../chunks/-kFVPYds.js";import{R as oe}from"../chunks/CG2_tf3r.js";const ae=K(Q,"https://gitops.fuz.dev/"),re=()=>ae.repos.map(_=>({slug:_.repo_name})),ke=Object.freeze(Object.defineProperty({__proto__:null,entries:re},Symbol.toStringTag,{value:"Module"})),Y={inform:{color:"var(--text_color_3)",icon:"✻"},help:{color:"var(--color_b_5)",icon:"➺"},error:{color:"var(--color_c_5)",icon:"!?"}};var se=v('<div class="icon svelte-jpgxud"><!></div>'),ne=v('<!> <div class="content svelte-jpgxud"><!></div>',1),ie=v("<button><!></button>"),ce=v("<div><!></div>");function le(_,e){F(e,!0);const d=o=>{var t=ne(),n=A(t);{var l=j=>{var w=se(),q=a(w);{var C=p=>{var k=Z();z(()=>E(k,i(P))),s(p,k)},D=p=>{var k=L(),G=A(k);M(G,()=>e.icon,()=>i(P)),s(p,k)};B(q,p=>{!e.icon||typeof e.icon=="string"?p(C):p(D,!1)})}r(w),s(j,w)};B(n,j=>{e.icon!==null&&j(l)})}var g=y(n,2),m=a(g);M(m,()=>e.children),r(g),s(o,t)},u=X(e,"status",3,"inform"),f=b(()=>Y[u()]),O=b(()=>i(f).color),x=b(()=>i(f).icon),h=b(()=>e.color??i(O)),P=b(()=>typeof e.icon=="string"?e.icon:i(x)??Y.inform.icon);var S=L(),T=A(S);{var R=o=>{var t=ie();I(t,l=>({class:"message",type:"button",onclick:e.onclick,disabled:e.disabled,...e.attrs,[J]:l}),[()=>({"--text_color":i(h)})],void 0,"svelte-jpgxud");var n=a(t);d(n),r(t),s(o,t)},c=o=>{var t=ce();I(t,l=>({role:"alert",class:"message panel",...e.attrs,[J]:l}),[()=>({"--text_color":i(h)})],void 0,"svelte-jpgxud");var n=a(t);d(n),r(t),s(o,t)};B(T,o=>{e.onclick?o(R):o(c,!1)})}s(_,S),H()}var ve=v("<p>cannot find <code> </code></p>"),_e=v('<div class="mb_lg"><!></div>'),de=v('<div class="repos_tree_nav svelte-12giiu4"><!></div>'),ue=v('<main class="box width_100"><div class="p_lg"><!></div> <section class="tree svelte-12giiu4"><!> <!></section> <section class="box mb_xl7 svelte-12giiu4"><!></section></main>');function ge(_,e){F(e,!0);const d=b(()=>e.repos.find(c=>c.repo_name===e.slug));var u=ue();U(c=>{z(()=>V.title=`${e.slug??""} - tree ${e.repo.package_json.glyph??""} ${e.repo.package_json.name??""}`)});var f=a(u),O=a(f);$(O,{get pkg(){return e.repo}}),r(f);var x=y(f,2),h=a(x);{var P=c=>{var o=_e(),t=a(o);le(t,{status:"error",children:(n,l)=>{var g=ve(),m=y(a(g)),j=a(m,!0);r(m),r(g),z(()=>E(j,e.slug)),s(n,g)},$$slots:{default:!0}}),r(o),s(c,o)};B(h,c=>{i(d)||c(P)})}var S=y(h,2);oe(S,{get repos(){return e.repos},get selected_repo(){return i(d)},nav:o=>{var t=de(),n=a(t);te(n,{children:(l,g)=>{W();var m=Z();z(()=>E(m,e.repo.package_json.glyph)),s(l,m)},$$slots:{default:!0}}),r(t),s(o,t)},$$slots:{nav:!0}}),r(x);var T=y(x,2),R=a(T);ee(R,{}),r(T),r(u),s(_,u),H()}function ye(_,e){F(e,!0);const{repo:d,repos:u}=N.get();ge(_,{get repo(){return d},get repos(){return u},get slug(){return e.params.slug}}),H()}export{ye as component,ke as universal};
