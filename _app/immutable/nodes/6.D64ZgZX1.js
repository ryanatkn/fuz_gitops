import{t as d,a as c,s as j,c as qe,b as ae,h as ke}from"../chunks/DpMMEz8G.js";import{p as S,a as U,s as h,c as s,n as xe,b as t,t as q,z as e,M as y,f as te,$ as be}from"../chunks/ChQiw6Hm.js";import{P as je,a as ye}from"../chunks/BqHMO88W.js";import{p as we,i as w}from"../chunks/DY58tE33.js";import{a as B,b as re,s as f,c as Pe,r as ze}from"../chunks/Hcn0xZxl.js";import{p as De}from"../chunks/CzOVs7tR.js";import{b as Me}from"../chunks/DjSZF3Ll.js";import{f as se}from"../chunks/C6U_M-zN.js";import{a as Te}from"../chunks/BZ3vyIUQ.js";var Ce=d('<th class="svelte-1v5q9eq"> </th>'),Fe=d("<a> </a>"),He=d("<a><img> </a>"),Ie=d("<a><!></a>"),Re=d("<a> </a>  <!>",1),Ae=d("<a> </a>"),Be=d('<div class="row"><a><code> </code></a></div>'),Ee=d("<a> </a>"),Ge=d('<td class="svelte-1v5q9eq"><div> </div></td>'),Je=d('<a class="chip"> </a>'),Ke=d('<div class="row"><!></div>'),Le=d('<tr class="svelte-1v5q9eq"><td class="svelte-1v5q9eq"><div class="row"><!></div></td><td class="svelte-1v5q9eq"><div class="row"><!></div></td><td class="svelte-1v5q9eq"><div class="row"><!></div></td><td class="svelte-1v5q9eq"><!></td><td class="svelte-1v5q9eq"><!></td><!><td class="svelte-1v5q9eq"><!></td></tr>'),Ne=d('<table><thead><tr class="svelte-1v5q9eq"><th class="svelte-1v5q9eq">tree</th><th class="svelte-1v5q9eq">homepage</th><th class="svelte-1v5q9eq">repo</th><th class="svelte-1v5q9eq">npm</th><th class="svelte-1v5q9eq">version</th><!><th class="svelte-1v5q9eq">pull requests</th></tr></thead><tbody></tbody></table>');function Oe(F,u){S(u,!0);const b=we(u,"deps",19,()=>["@ryanatkn/fuz","@ryanatkn/gro"]),P=(n,v)=>{for(const _ in n.package_json.dependencies)if(_===v)return n.package_json.dependencies[_];for(const _ in n.package_json.devDependencies)if(_===v)return n.package_json.devDependencies[_];return null},E=y(()=>new Map(b().map(n=>{const v=u.repos.find(_=>_.package_json.name===n);return v!=null&&v.package_json?[n,v.package_json.version]:[n,null]}))),D=n=>n===null?"":n.replace(/^(\^|>=)\s*/,""),R=(n,v)=>{const _=n==null?void 0:n.find(I=>I.repo_url===v.repo_url);if(!(_!=null&&_.package_json))return null;const{pull_requests:m}=_;return m};var H=Ne(),M=s(H),A=s(M),V=h(s(A),5);B(V,16,b,n=>n,(n,v)=>{var _=Ce(),m=s(_,!0);t(_),q(()=>j(m,v)),c(n,_)}),xe(),t(A),t(M);var W=h(M);B(W,21,()=>u.repos,n=>n.name,(n,v)=>{var _=Le();const m=y(()=>{const{package_json:r,homepage_url:a}=e(v);return{package_json:r,homepage_url:a}});var I=s(_),X=s(I),ve=s(X);{var oe=r=>{var a=Fe(),o=s(a,!0);t(a),q(()=>{f(a,"href",`${Me??""}/tree/${e(v).repo_name??""}`),j(o,e(m).package_json.glyph??"🌳")}),c(r,a)};w(ve,r=>{e(m).package_json&&r(oe)})}t(X),t(I);var G=h(I),Y=s(G),ne=s(Y);{var _e=r=>{var a=He();let o;var l=s(a);Pe(l,"",{},{width:"16px",height:"16px","margin-right":"var(--space_xs)"});var k=h(l);t(a),q((p,x)=>{f(a,"href",e(m).homepage_url),o=re(a,1,"row",null,o,p),f(l,"src",e(v).logo_url),f(l,"alt",e(v).logo_alt),j(k,` ${x??""}`)},[()=>({selected:e(m).homepage_url===De.url.href}),()=>se(e(m).homepage_url)]),c(r,a)};w(ne,r=>{e(m).homepage_url&&r(_e)})}t(Y),t(G);var J=h(G),Z=s(J),le=s(Z);{var ce=r=>{var a=Re();const o=y(()=>e(v).check_runs),l=y(()=>{var i;return((i=e(o))==null?void 0:i.status)==="completed"}),k=y(()=>{var i;return((i=e(o))==null?void 0:i.conclusion)==="success"});var p=te(a),x=s(p,!0);t(p);var T=h(p,2);{var z=i=>{var g=Ie(),N=s(g);{var O=C=>{var Q=ae("🟡");c(C,Q)},ge=C=>{var Q=ae("⚠️");c(C,Q)};w(N,C=>{e(l)?C(ge,!1):C(O)})}t(g),q(()=>{f(g,"href",`${e(v).repo_url??""}/commits/main`),f(g,"title",e(l)?`CI failed: ${e(o).conclusion}`:`status: ${e(o).status}`)}),c(i,g)};w(T,i=>{e(o)&&(!e(l)||!e(k))&&i(z)})}q(()=>{f(p,"href",e(v).repo_url),j(x,e(v).repo_name)}),c(r,a)},ie=r=>{var a=Ae(),o=s(a,!0);t(a),q(l=>{f(a,"href",e(v).repo_url),j(o,l)},[()=>se(e(v).repo_url)]),c(r,a)};w(le,r=>{e(m).package_json?r(ce):r(ie,!1)})}t(Z),t(J);var K=h(J),de=s(K);{var ue=r=>{var a=Be(),o=s(a),l=s(o),k=s(l,!0);t(l),t(o),t(a),q(()=>{f(o,"href",e(v).npm_url),j(k,e(v).name)}),c(r,a)};w(de,r=>{e(v).npm_url&&r(ue)})}t(K);var L=h(K),me=s(L);{var pe=r=>{var a=Ee(),o=s(a,!0);t(a),q(l=>{f(a,"href",e(v).changelog_url),j(o,l)},[()=>D(e(m).package_json.version)]),c(r,a)};w(me,r=>{e(m).package_json.version!=="0.0.1"&&r(pe)})}t(L);var $=h(L);B($,16,b,r=>r,(r,a)=>{var o=Ge();const l=y(()=>P(e(v),a)),k=y(()=>D(e(l))),p=y(()=>e(E).get(a));var x=s(o);let T;var z=s(x,!0);t(x),t(o),q(i=>{T=re(x,1,"svelte-1v5q9eq",null,T,i),j(z,e(k))},[()=>({latest:!!e(p)&&e(k)===e(p)})]),c(r,o)});var ee=h($),fe=s(ee);{var he=r=>{var a=Ke();const o=y(()=>R(u.repos,e(v)));var l=s(a);{var k=p=>{var x=qe(),T=te(x);B(T,16,()=>e(o),z=>z,(z,i)=>{var g=Je(),N=s(g);t(g),q(O=>{f(g,"href",O),f(g,"title",i.title),j(N,`#${i.number??""}`)},[()=>Te(e(v).repo_url,i)]),c(z,g)}),c(p,x)};w(l,p=>{e(o)&&p(k)})}t(a),c(r,a)};w(fe,r=>{e(v).repo_url&&r(he)})}t(ee),t(_),c(n,_)}),t(W),t(H),c(F,H),U()}var Qe=d('<main class="box svelte-1v3x3ux"><div class="p_lg"><!></div> <section class="svelte-1v3x3ux"><div class="panel p_md"><!></div></section> <section class="box mb_xl7 svelte-1v3x3ux"><!></section></main>');function Se(F,u){S(u,!0);var b=Qe();ke(V=>{q(()=>be.title=`table ${u.repo.package_json.glyph??""} ${u.repo.package_json.name??""}`)});var P=s(b),E=s(P);je(E,{get pkg(){return u.repo}}),t(P);var D=h(P,2),R=s(D),H=s(R);Oe(H,{get repos(){return u.repos}}),t(R),t(D);var M=h(D,2),A=s(M);ye(A,{}),t(M),t(b),c(F,b),U()}function ta(F,u){S(u,!0);const{repo:b,repos:P}=ze.get();Se(F,{repo:b,repos:P}),U()}export{ta as component};
