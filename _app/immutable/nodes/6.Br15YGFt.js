import{t as d,a as c,s as b,c as be,b as se,h as je}from"../chunks/9MjreM49.js";import{p as V,a as W,s as h,c as r,n as ye,b as t,t as q,D as e,T as j,f as re,$ as we}from"../chunks/Bv2Q_V_Y.js";import{P as Pe,a as De}from"../chunks/Droz7ppi.js";import{p as Te,s as ze,i as y,a as Ce}from"../chunks/QZzwzUvr.js";import{a as A,b as oe,s as g,c as Fe,r as He}from"../chunks/-WFqumC9.js";import{f as ve,p as Ie}from"../chunks/BSWpAlBg.js";import{b as Me}from"../chunks/BDjzk-Y5.js";import{a as Re}from"../chunks/9h4gB28t.js";var Ae=d('<th class="svelte-1v5q9eq"> </th>'),Be=d("<a> </a>"),Ee=d("<a><img> </a>"),Ge=d("<a><!></a>"),Je=d("<a> </a>  <!>",1),Ke=d("<a> </a>"),Le=d('<div class="row"><a><code> </code></a></div>'),Ne=d("<a> </a>"),Oe=d('<td class="svelte-1v5q9eq"><div> </div></td>'),Qe=d('<a class="chip"> </a>'),Se=d('<div class="row"><!></div>'),Ue=d('<tr class="svelte-1v5q9eq"><td class="svelte-1v5q9eq"><div class="row"><!></div></td><td class="svelte-1v5q9eq"><div class="row"><!></div></td><td class="svelte-1v5q9eq"><div class="row"><!></div></td><td class="svelte-1v5q9eq"><!></td><td class="svelte-1v5q9eq"><!></td><!><td class="svelte-1v5q9eq"><!></td></tr>'),Ve=d('<table><thead><tr class="svelte-1v5q9eq"><th class="svelte-1v5q9eq">tree</th><th class="svelte-1v5q9eq">homepage</th><th class="svelte-1v5q9eq">repo</th><th class="svelte-1v5q9eq">npm</th><th class="svelte-1v5q9eq">version</th><!><th class="svelte-1v5q9eq">pull requests</th></tr></thead><tbody></tbody></table>');function We(F,u){V(u,!0);const[w,P]=ze(),B=()=>Ce(Ie,"$page",w),D=Te(u,"deps",19,()=>["@ryanatkn/fuz","@ryanatkn/gro"]),M=(n,o)=>{for(const _ in n.package_json.dependencies)if(_===o)return n.package_json.dependencies[_];for(const _ in n.package_json.devDependencies)if(_===o)return n.package_json.devDependencies[_];return null},E=j(()=>new Map(D().map(n=>{const o=u.repos.find(_=>_.package_json.name===n);return o!=null&&o.package_json?[n,o.package_json.version]:[n,null]}))),H=n=>n===null?"":n.replace(/^(\^|>=)\s*/,""),G=(n,o)=>{const _=n==null?void 0:n.find(I=>I.repo_url===o.repo_url);if(!(_!=null&&_.package_json))return null;const{pull_requests:p}=_;return p};var R=Ve(),J=r(R),X=r(J),ne=h(r(X),5);A(ne,16,D,n=>n,(n,o)=>{var _=Ae(),p=r(_,!0);t(_),q(()=>b(p,o)),c(n,_)}),ye(),t(X),t(J);var Y=h(J);A(Y,21,()=>u.repos,n=>n.name,(n,o)=>{var _=Ue();const p=j(()=>{const{package_json:s,homepage_url:a}=e(o);return{package_json:s,homepage_url:a}});var I=r(_),Z=r(I),_e=r(Z);{var le=s=>{var a=Be(),v=r(a,!0);t(a),q(()=>{g(a,"href",`${Me??""}/tree/${e(o).repo_name??""}`),b(v,e(p).package_json.glyph??"🌳")}),c(s,a)};y(_e,s=>{e(p).package_json&&s(le)})}t(Z),t(I);var K=h(I),$=r(K),ce=r($);{var ie=s=>{var a=Ee();let v;var l=r(a);Fe(l,"",{},{width:"16px",height:"16px","margin-right":"var(--space_xs)"});var k=h(l);t(a),q((m,x)=>{g(a,"href",e(p).homepage_url),v=oe(a,1,"row",null,v,m),g(l,"src",e(o).logo_url),g(l,"alt",e(o).logo_alt),b(k,` ${x??""}`)},[()=>({selected:e(p).homepage_url===B().url.href}),()=>ve(e(p).homepage_url)]),c(s,a)};y(ce,s=>{e(p).homepage_url&&s(ie)})}t($),t(K);var L=h(K),ee=r(L),de=r(ee);{var ue=s=>{var a=Je();const v=j(()=>e(o).check_runs),l=j(()=>{var i;return((i=e(v))==null?void 0:i.status)==="completed"}),k=j(()=>{var i;return((i=e(v))==null?void 0:i.conclusion)==="success"});var m=re(a),x=r(m,!0);t(m);var z=h(m,2);{var T=i=>{var f=Ge(),Q=r(f);{var S=C=>{var U=se("🟡");c(C,U)},xe=C=>{var U=se("⚠️");c(C,U)};y(Q,C=>{e(l)?C(xe,!1):C(S)})}t(f),q(()=>{g(f,"href",`${e(o).repo_url??""}/commits/main`),g(f,"title",e(l)?`CI failed: ${e(v).conclusion}`:`status: ${e(v).status}`)}),c(i,f)};y(z,i=>{e(v)&&(!e(l)||!e(k))&&i(T)})}q(()=>{g(m,"href",e(o).repo_url),b(x,e(o).repo_name)}),c(s,a)},pe=s=>{var a=Ke(),v=r(a,!0);t(a),q(l=>{g(a,"href",e(o).repo_url),b(v,l)},[()=>ve(e(o).repo_url)]),c(s,a)};y(de,s=>{e(p).package_json?s(ue):s(pe,!1)})}t(ee),t(L);var N=h(L),me=r(N);{var ge=s=>{var a=Le(),v=r(a),l=r(v),k=r(l,!0);t(l),t(v),t(a),q(()=>{g(v,"href",e(o).npm_url),b(k,e(o).name)}),c(s,a)};y(me,s=>{e(o).npm_url&&s(ge)})}t(N);var O=h(N),he=r(O);{var fe=s=>{var a=Ne(),v=r(a,!0);t(a),q(l=>{g(a,"href",e(o).changelog_url),b(v,l)},[()=>H(e(p).package_json.version)]),c(s,a)};y(he,s=>{e(p).package_json.version!=="0.0.1"&&s(fe)})}t(O);var ae=h(O);A(ae,16,D,s=>s,(s,a)=>{var v=Oe();const l=j(()=>M(e(o),a)),k=j(()=>H(e(l))),m=j(()=>e(E).get(a));var x=r(v);let z;var T=r(x,!0);t(x),t(v),q(i=>{z=oe(x,1,"svelte-1v5q9eq",null,z,i),b(T,e(k))},[()=>({latest:!!e(m)&&e(k)===e(m)})]),c(s,v)});var te=h(ae),qe=r(te);{var ke=s=>{var a=Se();const v=j(()=>G(u.repos,e(o)));var l=r(a);{var k=m=>{var x=be(),z=re(x);A(z,16,()=>e(v),T=>T,(T,i)=>{var f=Qe(),Q=r(f);t(f),q(S=>{g(f,"href",S),g(f,"title",i.title),b(Q,`#${i.number??""}`)},[()=>Re(e(o).repo_url,i)]),c(T,f)}),c(m,x)};y(l,m=>{e(v)&&m(k)})}t(a),c(s,a)};y(qe,s=>{e(o).repo_url&&s(ke)})}t(te),t(_),c(n,_)}),t(Y),t(R),c(F,R),W(),P()}var Xe=d('<main class="box svelte-1v3x3ux"><div class="p_lg"><!></div> <section class="svelte-1v3x3ux"><div class="panel p_md"><!></div></section> <section class="box mb_xl7 svelte-1v3x3ux"><!></section></main>');function Ye(F,u){V(u,!0);var w=Xe();je(R=>{q(()=>we.title=`table ${u.repo.package_json.glyph??""} ${u.repo.package_json.name??""}`)});var P=r(w),B=r(P);Pe(B,{get pkg(){return u.repo}}),t(P);var D=h(P,2),M=r(D),E=r(M);We(E,{get repos(){return u.repos}}),t(M),t(D);var H=h(D,2),G=r(H);De(G,{}),t(H),t(w),c(F,w),W()}function va(F,u){V(u,!0);const{repo:w,repos:P}=He.get();Ye(F,{repo:w,repos:P}),W()}export{va as component};
