import"../chunks/DsnmJJEf.js";import{p as S,f as d,b as c,c as U,s as p,d as s,r as t,t as g,e as k,ac as be,G as e,H as w,a as ae,D as ke,Q as te,O as we,$ as xe}from"../chunks/BJKX3ATt.js";import{h as je}from"../chunks/B4lXgq8N.js";import{P as ye,a as qe}from"../chunks/DLltJBZF.js";import{f as Q,g as re,s as u,p as Pe}from"../chunks/KwDQGwtp.js";import{i as x}from"../chunks/Whp0DOlH.js";import{p as De}from"../chunks/qvav5cQp.js";import{p as He}from"../chunks/ChMZmz3l.js";import{r as Te}from"../chunks/BWEoSLyv.js";import{f as se}from"../chunks/RBGCss5i.js";import{a as ze}from"../chunks/zcKSIOGv.js";import{r as Ce}from"../chunks/C8OFEv-C.js";var Fe=d('<th class="svelte-1mb1oew"> </th>'),Ge=d("<a> </a>"),Ie=d("<a><img/> </a>"),Me=d("<a><!></a>"),Oe=d("<a> </a>  <!>",1),Qe=d("<a> </a>"),Re=d('<div class="row"><a><code> </code></a></div>'),Ae=d("<a> </a>"),Be=d('<td class="svelte-1mb1oew"><div> </div></td>'),Ee=d('<a class="chip"> </a>'),Je=d('<div class="row"><!></div>'),Ke=d('<tr class="svelte-1mb1oew"><td class="svelte-1mb1oew"><div class="row"><!></div></td><td class="svelte-1mb1oew"><div class="row"><!></div></td><td class="svelte-1mb1oew"><div class="row"><!></div></td><td class="svelte-1mb1oew"><!></td><td class="svelte-1mb1oew"><!></td><!><td class="svelte-1mb1oew"><!></td></tr>'),Le=d('<table><thead><tr class="svelte-1mb1oew"><th class="svelte-1mb1oew">tree</th><th class="svelte-1mb1oew">homepage</th><th class="svelte-1mb1oew">repo</th><th class="svelte-1mb1oew">npm</th><th class="svelte-1mb1oew">version</th><!><th class="svelte-1mb1oew">pull requests</th></tr></thead><tbody></tbody></table>');function Ne(F,m){S(m,!0);const b=De(m,"deps",19,()=>["@ryanatkn/fuz","@ryanatkn/gro"]),y=(_,o)=>{for(const v in _.package_json.dependencies)if(v===o)return _.package_json.dependencies[v];for(const v in _.package_json.devDependencies)if(v===o)return _.package_json.devDependencies[v]},R=w(()=>new Map(b().map(_=>{const o=m.repos.find(v=>v.package_json.name===_);return o?.package_json?[_,o.package_json.version]:[_,null]}))),H=_=>_==null?"":_.replace(/^(\^|>=)\s*/,""),M=(_,o)=>{const v=_?.find(I=>I.repo_url===o.repo_url);if(!v?.package_json)return null;const{pull_requests:q}=v;return q};var G=Le(),T=s(G),O=s(T),V=p(s(O),5);Q(V,16,b,_=>_,(_,o)=>{var v=Fe(),q=s(v,!0);t(v),g(()=>k(q,o)),c(_,v)}),be(),t(O),t(T);var W=p(T);Q(W,21,()=>m.repos,_=>_.name,(_,o)=>{const v=w(()=>{const{package_json:r,homepage_url:a}=e(o);return{package_json:r,homepage_url:a}});var q=Ke(),I=s(q),X=s(I),oe=s(X);{var ve=r=>{var a=Ge(),n=s(a,!0);t(a),g(l=>{u(a,"href",l),k(n,e(v).package_json.glyph??"ðŸŒ³")},[()=>Te(`/tree/${e(o).repo_name}`)]),c(r,a)};x(oe,r=>{e(v).package_json&&r(ve)})}t(X),t(I);var A=p(I),Y=s(A),ne=s(Y);{var _e=r=>{var a=Ie();let n;var l=s(a);Pe(l,"",{},{width:"16px",height:"16px","margin-right":"var(--space_xs)"});var f=p(l);t(a),g(i=>{u(a,"href",e(v).homepage_url),n=re(a,1,"row",null,n,{selected:e(v).homepage_url===He.url.href}),u(l,"src",e(o).logo_url),u(l,"alt",e(o).logo_alt),k(f,` ${i??""}`)},[()=>se(e(v).homepage_url)]),c(r,a)};x(ne,r=>{e(v).homepage_url&&r(_e)})}t(Y),t(A);var B=p(A),Z=s(B),le=s(Z);{var ce=r=>{const a=w(()=>e(o).check_runs),n=w(()=>e(a)?.status==="completed"),l=w(()=>e(a)?.conclusion==="success");var f=Oe(),i=ae(f),j=s(i,!0);t(i);var z=p(i,2);{var P=D=>{var h=Me(),K=s(h);{var L=C=>{var N=te("ðŸŸ¡");c(C,N)},ge=C=>{var N=te("âš ï¸");c(C,N)};x(K,C=>{e(n)?C(ge,!1):C(L)})}t(h),g(()=>{u(h,"href",`${e(o).repo_url??""}/commits/main`),u(h,"title",e(n)?`CI failed: ${e(a).conclusion}`:`status: ${e(a).status}`)}),c(D,h)};x(z,D=>{e(a)&&(!e(n)||!e(l))&&D(P)})}g(()=>{u(i,"href",e(o).repo_url),k(j,e(o).repo_name)}),c(r,f)},ie=r=>{var a=Qe(),n=s(a,!0);t(a),g(l=>{u(a,"href",e(o).repo_url),k(n,l)},[()=>se(e(o).repo_url)]),c(r,a)};x(le,r=>{e(v).package_json?r(ce):r(ie,!1)})}t(Z),t(B);var E=p(B),de=s(E);{var me=r=>{var a=Re(),n=s(a),l=s(n),f=s(l,!0);t(l),t(n),t(a),g(()=>{u(n,"href",e(o).npm_url),k(f,e(o).name)}),c(r,a)};x(de,r=>{e(o).npm_url&&r(me)})}t(E);var J=p(E),ue=s(J);{var pe=r=>{var a=Ae(),n=s(a,!0);t(a),g(l=>{u(a,"href",e(o).changelog_url),k(n,l)},[()=>H(e(v).package_json.version)]),c(r,a)};x(ue,r=>{e(v).package_json.version!=="0.0.1"&&r(pe)})}t(J);var $=p(J);Q($,16,b,r=>r,(r,a)=>{const n=w(()=>y(e(o),a)),l=w(()=>H(e(n))),f=w(()=>e(R).get(a));var i=Be(),j=s(i);let z;var P=s(j,!0);t(j),t(i),g(()=>{z=re(j,1,"svelte-1mb1oew",null,z,{latest:!!e(f)&&e(l)===e(f)}),k(P,e(l))}),c(r,i)});var ee=p($),fe=s(ee);{var he=r=>{const a=w(()=>M(m.repos,e(o)));var n=Je(),l=s(n);{var f=i=>{var j=ke(),z=ae(j);Q(z,16,()=>e(a),P=>P,(P,D)=>{var h=Ee(),K=s(h);t(h),g(L=>{u(h,"href",L),u(h,"title",D.title),k(K,`#${D.number??""}`)},[()=>ze(e(o).repo_url,D)]),c(P,h)}),c(i,j)};x(l,i=>{e(a)&&i(f)})}t(n),c(r,n)};x(fe,r=>{e(o).repo_url&&r(he)})}t(ee),t(q),c(_,q)}),t(W),t(G),c(F,G),U()}var Se=d('<main class="box svelte-1fi511y"><div class="p_lg"><!></div> <section class="svelte-1fi511y"><div class="panel p_md"><!></div></section> <section class="box mb_xl7 svelte-1fi511y"><!></section></main>');function Ue(F,m){S(m,!0);var b=Se();je("1fi511y",V=>{we(()=>{xe.title=`table ${m.repo.package_json.glyph??""} ${m.repo.package_json.name??""}`})});var y=s(b),R=s(y);ye(R,{get repo(){return m.repo}}),t(y);var H=p(y,2),M=s(H),G=s(M);Ne(G,{get repos(){return m.repos}}),t(M),t(H);var T=p(H,2),O=s(T);qe(O,{}),t(T),t(b),c(F,b),U()}function va(F,m){S(m,!0);const{repo:b,repos:y}=Ce.get();Ue(F,{get repo(){return b},get repos(){return y}}),U()}export{va as component};
