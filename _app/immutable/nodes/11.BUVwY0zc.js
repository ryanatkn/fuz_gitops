import"../chunks/DsnmJJEf.js";import{p as S,f as d,b as c,c as U,s as u,d as s,r as t,t as f,e as x,ac as ke,G as e,H as j,a as ae,D as xe,Q as te,O as je,$ as be}from"../chunks/CCPskJmW.js";import{h as qe}from"../chunks/DCF3EXkh.js";import{P as ye,a as we}from"../chunks/Bs8Ih0pr.js";import{i as Q,j as re,r as Pe,f as g,n as De}from"../chunks/BEdFsDay.js";import{i as b}from"../chunks/Bks5Ru-8.js";import{p as He}from"../chunks/Bju-juyt.js";import{p as Te}from"../chunks/DnNT481G.js";import{f as se}from"../chunks/Bjy2BH5y.js";import{a as ze}from"../chunks/B8YmS-uW.js";import{r as Ce}from"../chunks/DWcWFAfT.js";var Fe=d('<th class="svelte-1hiqjx1"> </th>'),Ge=d("<a> </a>"),Ie=d("<a><img/> </a>"),Me=d("<a><!></a>"),Oe=d("<a> </a>  <!>",1),Qe=d("<a> </a>"),Re=d('<div class="row"><a><code> </code></a></div>'),Ae=d("<a> </a>"),Be=d('<td class="svelte-1hiqjx1"><div> </div></td>'),Ee=d('<a class="chip"> </a>'),Je=d('<div class="row"><!></div>'),Ke=d('<tr class="svelte-1hiqjx1"><td class="svelte-1hiqjx1"><div class="row"><!></div></td><td class="svelte-1hiqjx1"><div class="row"><!></div></td><td class="svelte-1hiqjx1"><div class="row"><!></div></td><td class="svelte-1hiqjx1"><!></td><td class="svelte-1hiqjx1"><!></td><!><td class="svelte-1hiqjx1"><!></td></tr>'),Le=d('<table><thead><tr class="svelte-1hiqjx1"><th class="svelte-1hiqjx1">tree</th><th class="svelte-1hiqjx1">homepage</th><th class="svelte-1hiqjx1">repo</th><th class="svelte-1hiqjx1">npm</th><th class="svelte-1hiqjx1">version</th><!><th class="svelte-1hiqjx1">pull requests</th></tr></thead><tbody></tbody></table>');function Ne(F,p){S(p,!0);const k=He(p,"deps",19,()=>["@ryanatkn/fuz","@ryanatkn/gro"]),y=(_,o)=>{for(const n in _.pkg.package_json.dependencies)if(n===o)return _.pkg.package_json.dependencies[n];for(const n in _.pkg.package_json.devDependencies)if(n===o)return _.pkg.package_json.devDependencies[n]},R=j(()=>new Map(k().map(_=>{const o=p.repos.find(n=>n.pkg.package_json.name===_);return o?.pkg.package_json?[_,o.pkg.package_json.version]:[_,null]}))),H=_=>_==null?"":_.replace(/^(\^|>=)\s*/,""),M=(_,o)=>{const n=_?.find(I=>I.pkg.repo_url===o.pkg.repo_url);if(!n?.pkg.package_json)return null;const{pull_requests:w}=n;return w};var G=Le(),T=s(G),O=s(T),V=u(s(O),5);Q(V,16,k,_=>_,(_,o)=>{var n=Fe(),w=s(n,!0);t(n),f(()=>x(w,o)),c(_,n)}),ke(),t(O),t(T);var W=u(T);Q(W,21,()=>p.repos,_=>_.pkg.name,(_,o)=>{const n=j(()=>{const{package_json:r,homepage_url:a}=e(o).pkg;return{package_json:r,homepage_url:a}});var w=Ke(),I=s(w),X=s(I),oe=s(X);{var ne=r=>{var a=Ge(),v=s(a,!0);t(a),f(l=>{g(a,"href",l),x(v,e(n).package_json.glyph??"ðŸŒ³")},[()=>Pe(`/tree/${e(o).pkg.repo_name}`)]),c(r,a)};b(oe,r=>{e(n).package_json&&r(ne)})}t(X),t(I);var A=u(I),Y=s(A),ve=s(Y);{var _e=r=>{var a=Ie();let v;var l=s(a);De(l,"",{},{width:"16px",height:"16px","margin-right":"var(--space_xs)"});var h=u(l);t(a),f(i=>{g(a,"href",e(n).homepage_url),v=re(a,1,"row",null,v,{selected:e(n).homepage_url===Te.url.href}),g(l,"src",e(o).pkg.logo_url),g(l,"alt",e(o).pkg.logo_alt),x(h,` ${i??""}`)},[()=>se(e(n).homepage_url)]),c(r,a)};b(ve,r=>{e(n).homepage_url&&r(_e)})}t(Y),t(A);var B=u(A),Z=s(B),le=s(Z);{var ce=r=>{const a=j(()=>e(o).check_runs),v=j(()=>e(a)?.status==="completed"),l=j(()=>e(a)?.conclusion==="success");var h=Oe(),i=ae(h),q=s(i,!0);t(i);var z=u(i,2);{var P=D=>{var m=Me(),K=s(m);{var L=C=>{var N=te("ðŸŸ¡");c(C,N)},fe=C=>{var N=te("âš ï¸");c(C,N)};b(K,C=>{e(v)?C(fe,!1):C(L)})}t(m),f(()=>{g(m,"href",`${e(o).pkg.repo_url??""}/commits/main`),g(m,"title",e(v)?`CI failed: ${e(a).conclusion}`:`status: ${e(a).status}`)}),c(D,m)};b(z,D=>{e(a)&&(!e(v)||!e(l))&&D(P)})}f(()=>{g(i,"href",e(o).pkg.repo_url),x(q,e(o).pkg.repo_name)}),c(r,h)},ie=r=>{var a=Qe(),v=s(a,!0);t(a),f(l=>{g(a,"href",e(o).pkg.repo_url),x(v,l)},[()=>se(e(o).pkg.repo_url)]),c(r,a)};b(le,r=>{e(n).package_json?r(ce):r(ie,!1)})}t(Z),t(B);var E=u(B),de=s(E);{var pe=r=>{var a=Re(),v=s(a),l=s(v),h=s(l,!0);t(l),t(v),t(a),f(()=>{g(v,"href",e(o).pkg.npm_url),x(h,e(o).pkg.name)}),c(r,a)};b(de,r=>{e(o).pkg.npm_url&&r(pe)})}t(E);var J=u(E),ge=s(J);{var ue=r=>{var a=Ae(),v=s(a,!0);t(a),f(l=>{g(a,"href",e(o).pkg.changelog_url),x(v,l)},[()=>H(e(n).package_json.version)]),c(r,a)};b(ge,r=>{e(n).package_json.version!=="0.0.1"&&r(ue)})}t(J);var $=u(J);Q($,16,k,r=>r,(r,a)=>{const v=j(()=>y(e(o),a)),l=j(()=>H(e(v))),h=j(()=>e(R).get(a));var i=Be(),q=s(i);let z;var P=s(q,!0);t(q),t(i),f(()=>{z=re(q,1,"svelte-1hiqjx1",null,z,{latest:!!e(h)&&e(l)===e(h)}),x(P,e(l))}),c(r,i)});var ee=u($),he=s(ee);{var me=r=>{const a=j(()=>M(p.repos,e(o)));var v=Je(),l=s(v);{var h=i=>{var q=xe(),z=ae(q);Q(z,16,()=>e(a),P=>P,(P,D)=>{var m=Ee(),K=s(m);t(m),f(L=>{g(m,"href",L),g(m,"title",D.title),x(K,`#${D.number??""}`)},[()=>ze(e(o).pkg.repo_url,D)]),c(P,m)}),c(i,q)};b(l,i=>{e(a)&&i(h)})}t(v),c(r,v)};b(he,r=>{e(o).pkg.repo_url&&r(me)})}t(ee),t(w),c(_,w)}),t(W),t(G),c(F,G),U()}var Se=d('<main class="box svelte-86oeb5"><div class="p_lg"><!></div> <section class="svelte-86oeb5"><div class="panel p_md"><!></div></section> <section class="box mb_xl7 svelte-86oeb5"><!></section></main>');function Ue(F,p){S(p,!0);var k=Se();qe("86oeb5",V=>{je(()=>{be.title=`table ${p.repo.pkg.package_json.glyph??""} ${p.repo.pkg.package_json.name??""}`})});var y=s(k),R=s(y);ye(R,{get pkg(){return p.repo.pkg}}),t(y);var H=u(y,2),M=s(H),G=s(M);Ne(G,{get repos(){return p.repos}}),t(M),t(H);var T=u(H,2),O=s(T);we(O,{}),t(T),t(k),c(F,k),U()}function oa(F,p){S(p,!0);const{repo:k,repos:y}=Ce.get();Ue(F,{get repo(){return k},get repos(){return y}}),U()}export{oa as component};
