import{a as l,t as d,s as k,b as ae,c as ie,h as ue}from"../chunks/disclose-version.B3CTVpS1.js";import{p as O,a as Q,c as s,s as g,n as pe,r as t,t as c,v as e,f as te,V as x,$ as me}from"../chunks/runtime.CIdLDIsX.js";import{P as ge,a as he}from"../chunks/Page_Header.DSLeUQMJ.js";import{p as fe,i as b}from"../chunks/props.DaYzNa8x.js";import{a as V,i as qe,s as m,t as se,b as N,g as ke}from"../chunks/repo.CJUypRNQ.js";import{s as xe,a as be,p as je}from"../chunks/stores.BLVyPXzj.js";import{b as ye}from"../chunks/entry.C8IWDlbX.js";import{f as re}from"../chunks/Library_Footer.B9UiYgq1.js";import{a as we}from"../chunks/github_helpers.CsBkL48w.js";var Pe=d('<th class="svelte-1v5q9eq"> </th>'),De=d("<a> </a>"),Te=d('<a class="row"><img> </a>'),$e=d("<a><!></a>"),ze=d("<a> </a>  <!>",1),Ce=d("<a> </a>"),Fe=d('<div class="row"><a><code> </code></a></div>'),He=d("<a> </a>"),Ie=d('<td class="svelte-1v5q9eq"><div class="svelte-1v5q9eq"> </div></td>'),Me=d('<a class="chip"> </a>'),Re=d('<div class="row"><!></div>'),Ve=d('<tr class="svelte-1v5q9eq"><td class="svelte-1v5q9eq"><div class="row"><!></div></td><td class="svelte-1v5q9eq"><div class="row"><!></div></td><td class="svelte-1v5q9eq"><div class="row"><!></div></td><td class="svelte-1v5q9eq"><!></td><td class="svelte-1v5q9eq"><!></td><!><td class="svelte-1v5q9eq"><!></td></tr>'),Ae=d('<table><thead><tr class="svelte-1v5q9eq"><th class="svelte-1v5q9eq">tree</th><th class="svelte-1v5q9eq">homepage</th><th class="svelte-1v5q9eq">repo</th><th class="svelte-1v5q9eq">npm</th><th class="svelte-1v5q9eq">version</th><!><th class="svelte-1v5q9eq">pull requests</th></tr></thead><tbody></tbody></table>');function Be(T,i){O(i,!0);const y=xe(),w=()=>be(je,"$page",y),$=fe(i,"deps",19,()=>["@ryanatkn/fuz","@ryanatkn/gro"]),z=(v,r)=>{for(const n in v.package_json.dependencies)if(n===r)return v.package_json.dependencies[n];for(const n in v.package_json.devDependencies)if(n===r)return v.package_json.devDependencies[n];return null},H=x(()=>new Map($().map(v=>{const r=i.repos.find(n=>n.package_json.name===v);return r!=null&&r.package_json?[v,r.package_json.version]:[v,null]}))),I=v=>v===null?"":v.replace(/^(\^|>=)\s*/,""),M=(v,r)=>{const n=v==null?void 0:v.find(F=>F.repo_url===r.repo_url);if(!(n!=null&&n.package_json))return null;const{pull_requests:u}=n;return u};var C=Ae(),R=s(C),S=s(R),oe=g(s(S),5);V(oe,16,$,v=>v,(v,r)=>{var n=Pe(),u=s(n);t(n),c(()=>k(u,r)),l(v,n)}),pe(),t(S),t(R);var U=g(R);V(U,21,()=>i.repos,qe,(v,r)=>{var n=Ve();const u=x(()=>{const{package_json:_,homepage_url:a}=e(r);return{package_json:_,homepage_url:a}});var F=s(n),W=s(F),ve=s(W);b(ve,()=>e(u).package_json,_=>{var a=De(),o=s(a);t(a),c(()=>{m(a,"href",`${ye??""}/tree/${e(r).repo_name??""}`),k(o,e(u).package_json.glyph??"🌳")}),l(_,a)}),t(W),t(F);var A=g(F),X=s(A),ne=s(X);b(ne,()=>e(u).homepage_url,_=>{var a=Te(),o=s(a),p=g(o);c(()=>k(p,` ${re(e(u).homepage_url)??""}`)),t(a),c(()=>{m(a,"href",e(u).homepage_url),se(a,"selected",e(u).homepage_url===w().url.href),m(o,"src",e(r).logo_url),m(o,"alt",e(r).logo_alt),N(o,"width","16px"),N(o,"height","16px"),N(o,"margin-right","var(--space_xs)")}),l(_,a)}),t(X),t(A);var B=g(A),Y=s(B),_e=s(Y);b(_e,()=>e(u).package_json,_=>{var a=ze();const o=x(()=>e(r).check_runs),p=x(()=>{var h;return((h=e(o))==null?void 0:h.status)==="completed"}),j=x(()=>{var h;return((h=e(o))==null?void 0:h.conclusion)==="success"});var q=te(a),P=s(q);t(q);var D=g(q,2);b(D,()=>e(o)&&(!e(p)||!e(j)),h=>{var f=$e(),J=s(f);b(J,()=>!e(p),K=>{var L=ae("🟡");l(K,L)},K=>{var L=ae("⚠️");l(K,L)}),t(f),c(()=>{m(f,"href",`${e(r).repo_url??""}/commits/main`),m(f,"title",e(p)?`CI failed: ${e(o).conclusion}`:`status: ${e(o).status}`)}),l(h,f)}),c(()=>{m(q,"href",e(r).repo_url),k(P,e(r).repo_name)}),l(_,a)},_=>{var a=Ce(),o=s(a);c(()=>k(o,re(e(r).repo_url))),t(a),c(()=>m(a,"href",e(r).repo_url)),l(_,a)}),t(Y),t(B);var E=g(B),le=s(E);b(le,()=>e(r).npm_url,_=>{var a=Fe(),o=s(a),p=s(o),j=s(p);t(p),t(o),t(a),c(()=>{m(o,"href",e(r).npm_url),k(j,e(r).name)}),l(_,a)}),t(E);var G=g(E),ce=s(G);b(ce,()=>e(u).package_json.version!=="0.0.1",_=>{var a=He(),o=s(a);c(()=>k(o,I(e(u).package_json.version))),t(a),c(()=>m(a,"href",e(r).changelog_url)),l(_,a)}),t(G);var Z=g(G);V(Z,16,$,_=>_,(_,a)=>{var o=Ie();const p=x(()=>z(e(r),a)),j=x(()=>I(e(p))),q=x(()=>e(H).get(a));var P=s(o),D=s(P);t(P),t(o),c(()=>{se(P,"latest",!!e(q)&&e(j)===e(q)),k(D,e(j))}),l(_,o)});var ee=g(Z),de=s(ee);b(de,()=>e(r).repo_url,_=>{var a=Re();const o=x(()=>M(i.repos,e(r)));var p=s(a);b(p,()=>e(o),j=>{var q=ie(),P=te(q);V(P,16,()=>e(o),D=>D,(D,h)=>{var f=Me();c(()=>m(f,"href",we(e(r).repo_url,h)));var J=s(f);t(f),c(()=>{m(f,"title",h.title),k(J,`#${h.number??""}`)}),l(D,f)}),l(j,q)}),t(a),l(_,a)}),t(ee),t(n),l(v,n)}),t(U),t(C),l(T,C),Q()}var Ee=d('<main class="box svelte-1v3x3ux"><div class="p_lg"><!></div> <section class="svelte-1v3x3ux"><div class="panel p_md"><!></div></section> <section class="box mb_xl7 svelte-1v3x3ux"><!></section></main>');function Ge(T,i){O(i,!0);var y=Ee();ue(R=>{c(()=>me.title=`table ${i.repo.package_json.glyph??""} ${i.repo.package_json.name??""}`)});var w=s(y),$=s(w);ge($,{get pkg(){return i.repo}}),t(w);var z=g(w,2),H=s(z),I=s(H);Be(I,{get repos(){return i.repos}}),t(H),t(z);var M=g(z,2),C=s(M);he(C,{}),t(M),t(y),l(T,y),Q()}function Xe(T,i){O(i,!0);const{repo:y,repos:w}=ke();Ge(T,{repo:y,repos:w}),Q()}export{Xe as component};
