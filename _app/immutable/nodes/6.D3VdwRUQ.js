import"../chunks/DsnmJJEf.js";import{p as Q,f as d,b as c,c as S,s as p,d as s,n as xa,g as t,t as g,h as j,J as a,Z as y,a as ea,_ as ka,j as ta,i as ba,$ as ja}from"../chunks/CrNsglSl.js";import{P as ya,a as wa}from"../chunks/CtQPMF65.js";import{p as qa,i as w}from"../chunks/CJM6mtEW.js";import{a as Z,b as ra,s as m,c as Pa,r as Da}from"../chunks/C4-Mr5zv.js";import{p as Ta}from"../chunks/CxOnTT80.js";import{r as za,f as sa}from"../chunks/DpsIiAMw.js";import{a as Ca}from"../chunks/DecxtiCf.js";var Fa=d('<th class="svelte-atmx7v"> </th>'),Ha=d("<a> </a>"),Ia=d("<a><img/> </a>"),Ja=d("<a><!></a>"),Ma=d("<a> </a>  <!>",1),Ra=d("<a> </a>"),Za=d('<div class="row"><a><code> </code></a></div>'),Aa=d("<a> </a>"),Ba=d('<td class="svelte-atmx7v"><div> </div></td>'),Ea=d('<a class="chip"> </a>'),Ga=d('<div class="row"><!></div>'),Ka=d('<tr class="svelte-atmx7v"><td class="svelte-atmx7v"><div class="row"><!></div></td><td class="svelte-atmx7v"><div class="row"><!></div></td><td class="svelte-atmx7v"><div class="row"><!></div></td><td class="svelte-atmx7v"><!></td><td class="svelte-atmx7v"><!></td><!><td class="svelte-atmx7v"><!></td></tr>'),La=d('<table><thead><tr class="svelte-atmx7v"><th class="svelte-atmx7v">tree</th><th class="svelte-atmx7v">homepage</th><th class="svelte-atmx7v">repo</th><th class="svelte-atmx7v">npm</th><th class="svelte-atmx7v">version</th><!><th class="svelte-atmx7v">pull requests</th></tr></thead><tbody></tbody></table>');function Na(H,u){Q(u,!0);const k=qa(u,"deps",19,()=>["@ryanatkn/fuz","@ryanatkn/gro"]),q=(_,o)=>{for(const v in _.package_json.dependencies)if(v===o)return _.package_json.dependencies[v];for(const v in _.package_json.devDependencies)if(v===o)return _.package_json.devDependencies[v];return null},A=y(()=>new Map(k().map(_=>{const o=u.repos.find(v=>v.package_json.name===_);return o?.package_json?[_,o.package_json.version]:[_,null]}))),T=_=>_===null?"":_.replace(/^(\^|>=)\s*/,""),M=(_,o)=>{const v=_?.find(J=>J.repo_url===o.repo_url);if(!v?.package_json)return null;const{pull_requests:P}=v;return P};var I=La(),z=s(I),R=s(z),U=p(s(R),5);Z(U,16,k,_=>_,(_,o)=>{var v=Fa(),P=s(v,!0);t(v),g(()=>j(P,o)),c(_,v)}),xa(),t(R),t(z);var V=p(z);Z(V,21,()=>u.repos,_=>_.name,(_,o)=>{const v=y(()=>{const{package_json:r,homepage_url:e}=a(o);return{package_json:r,homepage_url:e}});var P=Ka(),J=s(P),W=s(J),oa=s(W);{var va=r=>{var e=Ha(),n=s(e,!0);t(e),g(l=>{m(e,"href",l),j(n,a(v).package_json.glyph??"🌳")},[()=>za("/tree/{repo.repo_name}")]),c(r,e)};w(oa,r=>{a(v).package_json&&r(va)})}t(W),t(J);var B=p(J),X=s(B),na=s(X);{var _a=r=>{var e=Ia();let n;var l=s(e);Pa(l,"",{},{width:"16px",height:"16px","margin-right":"var(--space_xs)"});var f=p(l);t(e),g((i,x)=>{m(e,"href",a(v).homepage_url),n=ra(e,1,"row",null,n,i),m(l,"src",a(o).logo_url),m(l,"alt",a(o).logo_alt),j(f,` ${x??""}`)},[()=>({selected:a(v).homepage_url===Ta.url.href}),()=>sa(a(v).homepage_url)]),c(r,e)};w(na,r=>{a(v).homepage_url&&r(_a)})}t(X),t(B);var E=p(B),Y=s(E),la=s(Y);{var ca=r=>{const e=y(()=>a(o).check_runs),n=y(()=>a(e)?.status==="completed"),l=y(()=>a(e)?.conclusion==="success");var f=Ma(),i=ea(f),x=s(i,!0);t(i);var C=p(i,2);{var D=b=>{var h=Ja(),L=s(h);{var N=F=>{var O=ta("🟡");c(F,O)},ga=F=>{var O=ta("⚠️");c(F,O)};w(L,F=>{a(n)?F(ga,!1):F(N)})}t(h),g(()=>{m(h,"href",`${a(o).repo_url??""}/commits/main`),m(h,"title",a(n)?`CI failed: ${a(e).conclusion}`:`status: ${a(e).status}`)}),c(b,h)};w(C,b=>{a(e)&&(!a(n)||!a(l))&&b(D)})}g(()=>{m(i,"href",a(o).repo_url),j(x,a(o).repo_name)}),c(r,f)},ia=r=>{var e=Ra(),n=s(e,!0);t(e),g(l=>{m(e,"href",a(o).repo_url),j(n,l)},[()=>sa(a(o).repo_url)]),c(r,e)};w(la,r=>{a(v).package_json?r(ca):r(ia,!1)})}t(Y),t(E);var G=p(E),da=s(G);{var ua=r=>{var e=Za(),n=s(e),l=s(n),f=s(l,!0);t(l),t(n),t(e),g(()=>{m(n,"href",a(o).npm_url),j(f,a(o).name)}),c(r,e)};w(da,r=>{a(o).npm_url&&r(ua)})}t(G);var K=p(G),ma=s(K);{var pa=r=>{var e=Aa(),n=s(e,!0);t(e),g(l=>{m(e,"href",a(o).changelog_url),j(n,l)},[()=>T(a(v).package_json.version)]),c(r,e)};w(ma,r=>{a(v).package_json.version!=="0.0.1"&&r(pa)})}t(K);var $=p(K);Z($,16,k,r=>r,(r,e)=>{const n=y(()=>q(a(o),e)),l=y(()=>T(a(n))),f=y(()=>a(A).get(e));var i=Ba(),x=s(i);let C;var D=s(x,!0);t(x),t(i),g(b=>{C=ra(x,1,"svelte-atmx7v",null,C,b),j(D,a(l))},[()=>({latest:!!a(f)&&a(l)===a(f)})]),c(r,i)});var aa=p($),fa=s(aa);{var ha=r=>{const e=y(()=>M(u.repos,a(o)));var n=Ga(),l=s(n);{var f=i=>{var x=ka(),C=ea(x);Z(C,16,()=>a(e),D=>D,(D,b)=>{var h=Ea(),L=s(h);t(h),g(N=>{m(h,"href",N),m(h,"title",b.title),j(L,`#${b.number??""}`)},[()=>Ca(a(o).repo_url,b)]),c(D,h)}),c(i,x)};w(l,i=>{a(e)&&i(f)})}t(n),c(r,n)};w(fa,r=>{a(o).repo_url&&r(ha)})}t(aa),t(P),c(_,P)}),t(V),t(I),c(H,I),S()}var Oa=d('<main class="box svelte-1v3x3ux"><div class="p_lg"><!></div> <section class="svelte-1v3x3ux"><div class="panel p_md"><!></div></section> <section class="box mb_xl7 svelte-1v3x3ux"><!></section></main>');function Qa(H,u){Q(u,!0);var k=Oa();ba(U=>{g(()=>ja.title=`table ${u.repo.package_json.glyph??""} ${u.repo.package_json.name??""}`)});var q=s(k),A=s(q);ya(A,{get pkg(){return u.repo}}),t(q);var T=p(q,2),M=s(T),I=s(M);Na(I,{get repos(){return u.repos}}),t(M),t(T);var z=p(T,2),R=s(z);wa(R,{}),t(z),t(k),c(H,k),S()}function ee(H,u){Q(u,!0);const{repo:k,repos:q}=Da.get();Qa(H,{get repo(){return k},get repos(){return q}}),S()}export{ee as component};
