import"./DsnmJJEf.js";import{p as O,ai as A,G as t,ad as v,a2 as d,ah as U,f as P,d as p,M as R,r as g,t as S,b as D,c as j,aj as X,ak as F,s as H,D as J,a as K,al as Q}from"./BJKX3ATt.js";import{i as V}from"./Whp0DOlH.js";import{s as W,g as Y,p as Z}from"./KwDQGwtp.js";import{b as k}from"./CgbaG7Qj.js";import{p as b}from"./qvav5cQp.js";import{w as $}from"./CIzoBt3Q.js";const ee=a=>{if(!a)return!1;const{tagName:e}=a;return e==="INPUT"&&a.type!=="hidden"||e==="TEXTAREA"||a.contentEditable==="true"||a.contentEditable===""},fe=a=>{const e=a.closest("[contenteditable]");return e!==null&&e.contentEditable!=="false"},te=(a,e=!0,i=!0)=>(i&&a.preventDefault(),e?a.stopImmediatePropagation():a.stopPropagation(),a),ve=()=>{if(typeof window>"u")return!1;try{return window.self!==window.top}catch{return!1}};var ae=P('<div class="teleport svelte-lzvxo0"><!></div>');function oe(a,e){O(e,!0);let i=v(void 0);A(()=>{t(i)&&e.to&&E(t(i),e.to)});let w=v(!1);const E=(c,s)=>{d(w,!0),s.appendChild(c),e.onmove?.(c,s)};U(()=>{t(i)?.parentNode?.removeChild(t(i))});var r=ae(),y=p(r);R(y,()=>e.children),g(r),k(r,c=>d(i,c),()=>t(i)),S(()=>W(r,"hidden",!t(w))),D(a,r),j()}var ne=P('<div role="dialog" aria-modal="true" tabindex="-1"><div class="dialog_layout svelte-9uwxz7"><div class="dialog_wrapper svelte-9uwxz7" role="none"><div class="dialog_bg svelte-9uwxz7" aria-hidden="true"></div> <div class="dialog_content svelte-9uwxz7"><!></div></div></div></div>');function _e(a,e){O(e,!0);const i=b(e,"layout",3,"centered"),w=b(e,"index",3,0),E=b(e,"active",3,!0),r=b(e,"content_selector",3,".pane"),y="body",c="fuz_dialog";let s=v(void 0);A(()=>{q(e.container)});const q=o=>{if(o)d(s,o,!0);else{const u=document.getElementById(c);if(u)d(s,u,!0);else{const n=document.querySelector(y);if(!n)throw Error(`Cannot find dialog root element with selector '${y}'`);d(s,document.createElement("div"),!0),t(s).id=c,t(s).style.display="contents",n.appendChild(t(s))}}};let h=v(void 0),_=v(void 0);const x=o=>{o&&te(o),e.onclose?.()},B=o=>{if(o.key==="Escape"&&!ee(o.target)){const u=t(h)?.parentElement,n=u?.parentElement?.children,m=Array.prototype.indexOf.call(n,u);(!n||m===n.length-1||m===-1)&&x(o)}};let z=v(!1);X("keydown",F,function(...o){(E()?B:void 0)?.apply(this,o)}),oe(a,{get to(){return t(s)},onmove:async()=>{await $(),d(z,!0),t(h)?.focus()},children:(o,u)=>{var n=ne();let m,I;var N=p(n),T=p(N);T.__mousedown=l=>{const f=l.target;t(_)&&(t(_)===f||!t(_).contains(f)||r()&&!f.closest(r()))&&x(l)};var C=H(p(T),2),G=p(C);{var L=l=>{var f=J(),M=K(f);R(M,()=>e.children,()=>x),D(l,f)};V(G,l=>{t(z)&&l(L)})}g(C),k(C,l=>d(_,l),()=>t(_)),g(T),g(N),g(n),k(n,l=>d(h,l),()=>t(h)),S(()=>{m=Y(n,1,"dialog svelte-9uwxz7",null,m,{ready:t(z),layout_page:i()==="page"}),I=Z(n,"",I,{"z-index":100+w()})}),D(o,n)},$$slots:{default:!0}}),j()}Q(["mousedown"]);export{_e as D,ee as a,fe as b,ve as i,te as s};
